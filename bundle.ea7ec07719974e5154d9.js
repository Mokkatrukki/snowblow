(()=>{"use strict";var t={56:(t,i,e)=>{t.exports=function(t){var i=e.nc;i&&t.setAttribute("nonce",i)}},72:t=>{var i=[];function e(t){for(var e=-1,s=0;s<i.length;s++)if(i[s].identifier===t){e=s;break}return e}function s(t,s){for(var n={},a=[],h=0;h<t.length;h++){var o=t[h],l=s.base?o[0]+s.base:o[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var g=e(d),u={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==g)i[g].references++,i[g].updater(u);else{var f=r(u,s);s.byIndex=h,i.splice(h,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function r(t,i){var e=i.domAPI(i);return e.update(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap&&i.supports===t.supports&&i.layer===t.layer)return;e.update(t=i)}else e.remove()}}t.exports=function(t,r){var n=s(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<n.length;a++){var h=e(n[a]);i[h].references--}for(var o=s(t,r),l=0;l<n.length;l++){var c=e(n[l]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=o}}},113:t=>{t.exports=function(t,i){if(i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var e="",s=void 0!==i[5];return i[4]&&(e+="@supports (".concat(i[4],") {")),i[2]&&(e+="@media ".concat(i[2]," {")),s&&(e+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),e+=t(i),s&&(e+="}"),i[2]&&(e+="}"),i[4]&&(e+="}"),e})).join("")},i.i=function(t,e,s,r,n){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(s)for(var h=0;h<this.length;h++){var o=this[h][0];null!=o&&(a[o]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);s&&a[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),e&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=e):c[2]=e),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),i.push(c))}},i}},365:(t,i,e)=>{e.d(i,{A:()=>h});var s=e(601),r=e.n(s),n=e(314),a=e.n(n)()(r());a.push([t.id,"body {\n    font-family: Arial, sans-serif;\n    background-color: #f0f0f0;\n}\n\n#gameCanvas {\n    border: 1px solid #333;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n\n.game-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n} ",""]);const h=a},540:t=>{t.exports=function(t){var i=document.createElement("style");return t.setAttributes(i,t.attributes),t.insert(i,t.options),i}},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var i={};t.exports=function(t,e){var s=function(t){if(void 0===i[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var i=t.insertStyleElement(t);return{update:function(e){!function(t,i,e){var s="";e.supports&&(s+="@supports (".concat(e.supports,") {")),e.media&&(s+="@media ".concat(e.media," {"));var r=void 0!==e.layer;r&&(s+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),s+=e.css,r&&(s+="}"),e.media&&(s+="}"),e.supports&&(s+="}");var n=e.sourceMap;n&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),i.styleTagTransform(s,t,i.options)}(i,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)}}}}},i={};function e(s){var r=i[s];if(void 0!==r)return r.exports;var n=i[s]={id:s,exports:{}};return t[s](n,n.exports,e),n.exports}e.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},e.d=(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.nc=void 0;var s=function(){function t(t,i){this.x=t,this.y=i,this.width=40,this.height=60,this.speed=3,this.angle=0,this.wheelAngle=0,this.maxWheelAngle=Math.PI/4,this.wheelTurnSpeed=.08,this.color="#FF6B00",this.auraWidth=60,this.auraHeight=15,this.auraColor="#3A86FF",this.isMovingForward=!1,this.isMovingBackward=!1,this.isTurningLeft=!1,this.isTurningRight=!1}return t.prototype.setMovement=function(t,i){"forward"===t?this.isMovingForward=i:"backward"===t&&(this.isMovingBackward=i)},t.prototype.setTurning=function(t,i){"left"===t?this.isTurningLeft=i:"right"===t&&(this.isTurningRight=i)},t.prototype.update=function(){if(this.isTurningLeft?this.wheelAngle=Math.max(this.wheelAngle-this.wheelTurnSpeed,-this.maxWheelAngle):this.isTurningRight?this.wheelAngle=Math.min(this.wheelAngle+this.wheelTurnSpeed,this.maxWheelAngle):this.wheelAngle>0?this.wheelAngle=Math.max(0,this.wheelAngle-this.wheelTurnSpeed/2):this.wheelAngle<0&&(this.wheelAngle=Math.min(0,this.wheelAngle+this.wheelTurnSpeed/2)),(this.isMovingForward||this.isMovingBackward)&&0!==this.wheelAngle){var t=.03*this.wheelAngle;this.isMovingForward?this.angle+=t:this.isMovingBackward&&(this.angle-=t)}this.isMovingForward&&(this.x+=Math.sin(this.angle)*this.speed,this.y-=Math.cos(this.angle)*this.speed),this.isMovingBackward&&(this.x-=Math.sin(this.angle)*this.speed,this.y+=Math.cos(this.angle)*this.speed)},t.prototype.draw=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.angle),t.fillStyle=this.auraColor,t.fillRect(-this.auraWidth/2,-this.height/2-this.auraHeight,this.auraWidth,this.auraHeight),t.beginPath(),t.moveTo(-this.auraWidth/2,-this.height/2-this.auraHeight),t.lineTo(-this.auraWidth/2-10,-this.height/2),t.lineTo(-this.auraWidth/2,-this.height/2),t.closePath(),t.fill(),t.beginPath(),t.moveTo(this.auraWidth/2,-this.height/2-this.auraHeight),t.lineTo(this.auraWidth/2+10,-this.height/2),t.lineTo(this.auraWidth/2,-this.height/2),t.closePath(),t.fill(),t.strokeStyle="#2667FF",t.lineWidth=2,t.beginPath(),t.moveTo(-this.auraWidth/2+5,-this.height/2-this.auraHeight/2),t.lineTo(this.auraWidth/2-5,-this.height/2-this.auraHeight/2),t.stroke(),t.fillStyle=this.color,t.fillRect(-this.width/2,-this.height/2,this.width,this.height),t.fillStyle="#333",t.fillRect(-this.width/2-5,this.height/4-6,10,12),t.fillRect(this.width/2-5,this.height/4-6,10,12),t.save(),t.translate(-this.width/2,-this.height/4),t.rotate(this.wheelAngle),t.fillRect(-5,-6,10,12),t.restore(),t.save(),t.translate(this.width/2,-this.height/4),t.rotate(this.wheelAngle),t.fillRect(-5,-6,10,12),t.restore(),t.fillStyle="#FFF",t.beginPath(),t.arc(0,-this.height/2-5,3,0,2*Math.PI),t.fill(),t.restore()},t.prototype.getAuraPosition=function(){return{x:this.x+Math.sin(this.angle)*(this.height/2+this.auraHeight/2),y:this.y-Math.cos(this.angle)*(this.height/2+this.auraHeight/2),width:this.auraWidth,height:this.auraHeight,angle:this.angle}},t.prototype.getPosition=function(){return{x:this.x,y:this.y}},t.prototype.getSize=function(){return{width:this.width,height:this.height}},t}(),r=function(){function t(t,i,e){void 0===e&&(e=8),this.x=t,this.y=i,this.size=e,this.color="#FFFFFF",this.shadowColor="#E8F0F8",this.borderColor="#CCCCCC",this.velocity={x:0,y:0},this.isMoving=!1,this.friction=.95,this.isInParkingArea=!1,this.wasRemovedFromParkingArea=!1}return t.prototype.update=function(){this.isMoving&&(this.x+=this.velocity.x,this.y+=this.velocity.y,this.velocity.x*=this.friction,this.velocity.y*=this.friction,Math.abs(this.velocity.x)<.1&&Math.abs(this.velocity.y)<.1&&(this.velocity.x=0,this.velocity.y=0,this.isMoving=!1))},t.prototype.draw=function(t){t.fillStyle=this.color,t.fillRect(this.x-this.size/2,this.y-this.size/2,this.size,this.size),t.strokeStyle=this.borderColor,t.lineWidth=.5,t.strokeRect(this.x-this.size/2,this.y-this.size/2,this.size,this.size)},t}(),n=function(){function t(t,i,e){void 0===e&&(e=.8),this.parkingArea=null,this.onSnowRemovedFromParkingArea=null,this.particles=[],this.canvasWidth=t,this.canvasHeight=i,this.gridSize=15;var s=Math.floor(t/this.gridSize),r=Math.floor(i/this.gridSize);this.maxParticles=Math.floor(s*r*e),this.generateSnow()}return t.prototype.generateSnow=function(){var t=Math.floor(this.canvasWidth/this.gridSize),i=Math.floor(this.canvasHeight/this.gridSize);this.particles=[];for(var e=0;e<i;e++)for(var s=0;s<t;s++){var n=Math.random()*this.gridSize,a=Math.random()*this.gridSize,h=s*this.gridSize+n,o=e*this.gridSize+a,l=7+3*Math.random();this.particles.push(new r(h,o,l))}},t.prototype.update=function(){for(var t=0,i=this.particles;t<i.length;t++){var e=i[t],s=e.isInParkingArea;if(e.update(),this.parkingArea){var r=this.isParticleInParkingArea(e);!s||r||e.wasRemovedFromParkingArea||(e.wasRemovedFromParkingArea=!0,this.onSnowRemovedFromParkingArea&&this.onSnowRemovedFromParkingArea()),e.isInParkingArea=r}}},t.prototype.draw=function(t){for(var i=0,e=this.particles;i<e.length;i++)e[i].draw(t)},t.prototype.handleCollisionWithPlow=function(t,i,e,s,r){for(var n=Math.cos(r),a=Math.sin(r),h=0,o=this.particles;h<o.length;h++){var l=o[h],c=l.x-t,d=l.y-i;if(c*c+d*d<e*e){var g=c*n+d*a,u=-c*a+d*n;u<-s/2&&u>-s/2-l.size&&g>-e/2-l.size&&g<e/2+l.size&&(l.isMoving=!0,l.velocity.x=2*a+(.4*Math.random()-.2),l.velocity.y=2*-n+(.4*Math.random()-.2),l.x+=l.velocity.x,l.y+=l.velocity.y)}}},t.prototype.resizeCanvas=function(t,i){this.canvasWidth=t,this.canvasHeight=i,this.generateSnow()},t.prototype.setParkingArea=function(t,i){this.parkingArea=t,this.onSnowRemovedFromParkingArea=i;for(var e=0,s=0,r=this.particles;s<r.length;s++){var n=r[s];this.isParticleInParkingArea(n)&&(n.isInParkingArea=!0,e++)}return e},t.prototype.isParticleInParkingArea=function(t){return!!this.parkingArea&&t.x>=this.parkingArea.x&&t.x<=this.parkingArea.x+this.parkingArea.width&&t.y>=this.parkingArea.y&&t.y<=this.parkingArea.y+this.parkingArea.height},t}(),a=function(){function t(t,i,e,s){this.x=t,this.y=i,this.width=e,this.height=s,this.borderColor="#FF4500",this.borderWidth=4,this.clearThreshold=1,this.totalSnowParticles=0,this.currentSnowParticles=0}return t.prototype.draw=function(t){t.strokeStyle=this.borderColor,t.lineWidth=this.borderWidth,t.strokeRect(this.x,this.y,this.width,this.height);var i=this.getClearPercentage();t.fillStyle="#FFFFFF",t.font="20px Arial",t.fillText("Cleared: ".concat(Math.floor(100*i),"%"),this.x+10,this.y-10);var e=this.width-20,s=this.x+10,r=this.y-35;t.fillStyle="#555555",t.fillRect(s,r,e,15),t.fillStyle=this.getProgressColor(i),t.fillRect(s,r,e*i,15),t.strokeStyle="#FFFFFF",t.lineWidth=2,t.strokeRect(s,r,e,15)},t.prototype.isInside=function(t,i){return t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height},t.prototype.setTotalSnowParticles=function(t){this.totalSnowParticles=t,this.currentSnowParticles=t},t.prototype.removeSnowParticle=function(){this.currentSnowParticles>0&&this.currentSnowParticles--},t.prototype.getClearPercentage=function(){return 0===this.totalSnowParticles?0:1-this.currentSnowParticles/this.totalSnowParticles},t.prototype.isCleared=function(){return this.getClearPercentage()>=this.clearThreshold},t.prototype.getProgressColor=function(t){return t<.5?"#FF4500":t<.8?"#FFA500":t<1?"#FFFF00":"#00FF00"},t.prototype.getPosition=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t}(),h=function(){function t(t){var i=this;if(this.lastTimestamp=0,this.isRunning=!1,this.gameWon=!1,this.canvas=document.getElementById(t),!this.canvas)throw new Error("Canvas element with id ".concat(t," not found"));var e=this.canvas.getContext("2d");if(!e)throw new Error("Could not get 2D context from canvas");this.ctx=e,this.resizeCanvas(),window.addEventListener("resize",(function(){return i.resizeCanvas()})),this.initializeGame(),this.setupControls()}return t.prototype.initializeGame=function(){var t=this,i=this.canvas.width/2-120,e=this.canvas.height/2-180;this.parkingArea=new a(i,e,240,360),this.initialTractorX=i+120,this.initialTractorY=e-120,this.tractor=new s(this.initialTractorX,this.initialTractorY),this.snowSystem=new n(this.canvas.width,this.canvas.height,.8);var r=this.snowSystem.setParkingArea(this.parkingArea.getPosition(),(function(){return t.parkingArea.removeSnowParticle()}));this.parkingArea.setTotalSnowParticles(r),this.gameWon=!1},t.prototype.resetGame=function(){this.initializeGame(),this.isRunning||this.start()},t.prototype.resizeCanvas=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.snowSystem&&this.snowSystem.resizeCanvas(this.canvas.width,this.canvas.height)},t.prototype.setupControls=function(){var t=this;window.addEventListener("keydown",(function(i){if(!t.gameWon||"r"!==i.key&&"R"!==i.key)switch(i.key){case"ArrowUp":case"w":t.tractor.setMovement("forward",!0);break;case"ArrowDown":case"s":t.tractor.setMovement("backward",!0);break;case"ArrowLeft":case"a":t.tractor.setTurning("left",!0);break;case"ArrowRight":case"d":t.tractor.setTurning("right",!0)}else t.resetGame()})),window.addEventListener("keyup",(function(i){switch(i.key){case"ArrowUp":case"w":t.tractor.setMovement("forward",!1);break;case"ArrowDown":case"s":t.tractor.setMovement("backward",!1);break;case"ArrowLeft":case"a":t.tractor.setTurning("left",!1);break;case"ArrowRight":case"d":t.tractor.setTurning("right",!1)}}))},t.prototype.start=function(){var t=this;this.isRunning||(this.isRunning=!0,this.lastTimestamp=performance.now(),requestAnimationFrame((function(i){return t.gameLoop(i)})))},t.prototype.gameLoop=function(t){var i=this;if(this.isRunning){var e=t-this.lastTimestamp;this.lastTimestamp=t,this.update(e),this.render(),requestAnimationFrame((function(t){return i.gameLoop(t)}))}},t.prototype.update=function(t){if(!this.gameWon){this.tractor.update(),this.snowSystem.update();var i=this.tractor.getAuraPosition();this.snowSystem.handleCollisionWithPlow(i.x,i.y,i.width,i.height,i.angle),this.parkingArea.isCleared()&&(this.gameWon=!0,console.log("Congratulations! You've cleared the parking area!"))}},t.prototype.render=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#333333",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.snowSystem.draw(this.ctx),this.parkingArea.draw(this.ctx),this.tractor.draw(this.ctx),this.drawControlsHelp(),this.gameWon&&this.drawWinMessage()},t.prototype.drawWinMessage=function(){var t=this.canvas.width/2,i=this.canvas.height/3;this.ctx.fillStyle="rgba(0, 0, 0, 0.7)",this.ctx.fillRect(t-200,i-50,400,150),this.ctx.strokeStyle="#FFFFFF",this.ctx.lineWidth=3,this.ctx.strokeRect(t-200,i-50,400,150),this.ctx.fillStyle="#FFFFFF",this.ctx.font="bold 30px Arial",this.ctx.textAlign="center",this.ctx.fillText("Parking Area Cleared!",t,i),this.ctx.font="20px Arial",this.ctx.fillText("Great job, snow plow driver!",t,i+30),this.ctx.font="bold 20px Arial",this.ctx.fillText("Press R to play again",t,i+80)},t.prototype.drawControlsHelp=function(){this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(20,20,220,120),this.ctx.strokeStyle="#FFFFFF",this.ctx.lineWidth=1,this.ctx.strokeRect(20,20,220,120),this.ctx.fillStyle="#FFFFFF",this.ctx.font="bold 16px Arial",this.ctx.textAlign="left",this.ctx.fillText("Controls:",30,45),this.ctx.font="14px Arial",this.ctx.fillText("W / ↑ - Move Forward",30,70),this.ctx.fillText("S / ↓ - Move Backward",30,90),this.ctx.fillText("A / ← - Turn Left",30,110),this.ctx.fillText("D / → - Turn Right",30,130),this.gameWon&&(this.ctx.font="bold 14px Arial",this.ctx.fillText("R - Restart Game",30,150))},t}(),o=e(72),l=e.n(o),c=e(825),d=e.n(c),g=e(659),u=e.n(g),f=e(56),p=e.n(f),v=e(540),w=e.n(v),y=e(113),m=e.n(y),x=e(365),A={};A.styleTagTransform=m(),A.setAttributes=p(),A.insert=u().bind(null,"head"),A.domAPI=d(),A.insertStyleElement=w(),l()(x.A,A),x.A&&x.A.locals&&x.A.locals,window.addEventListener("DOMContentLoaded",(function(){console.log("Snow Blow game starting...");try{new h("gameCanvas").start(),console.log("Game started successfully!")}catch(t){console.error("Failed to start the game:",t)}}))})();